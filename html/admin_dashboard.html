<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>관리자 대시보드</title>
    <link rel="stylesheet" href="../css/dashboard.css">
</head>
<body>
    <div class="dashboard-container">
        <h2>환영합니다, <span id="username"></span>님! (관리자)</h2>
        <p>당신의 역할: <span id="role"></span></p>

        <div class="admin-section">
            <h3>관리자 기능</h3>
            <ul>
                <li><a href="user_management.html">사용자 관리</a></li>
                <li><a href="manage_notices.html">공지사항 관리</a></li>
                <li><a href="system_logs.html">시스템 로그 확인</a></li>
            </ul>
        </div>

        <a href="../php/logout.php"><button>로그아웃</button></a>
    </div>

    <script>
        fetch("../php/users_info.php")
            .then(response => response.json())
            .then(data => {
                if (data.user_id) {
                    document.getElementById("username").innerText = data.username;
                    document.getElementById("role").innerText = data.role;

                    if (data.role !== "관리자") {
                        alert("관리자만 접근 가능합니다.");
                        window.location.href = "login.html";
                    }
                } else {
                    window.location.href = "login.html";
                }
            })
            .catch(error => console.error("데이터를 불러오는 중 오류 발생:", error));
    </script>
</body>
</html>
